---
title: "Pythonでsshログインを試みる"
date: 2020-07-25T15:16:26+09:00
archives: "2020/07"
tags: ["python","ネットワーク","技術ネタ"]
author: toshikun
draft: true
toc: true
description: "pythonでsshログインを試みる"
featured_image: "https://lh3.googleusercontent.com/rNz6Ehb_xv_V9xeeQRrfq3lT5_B_wpRv304dEED5KepVUzmbv9cbaA4po9cCe0fVaR3P16XouvI0Wzj9csqDMaV0J_EGBFTx95qXBinPGgFqcjXZV-7tDcqE5TL9t2PsRKq7OXoGjA=w240"
---

# 今(結構前から)流行りの自動化をしてみる。

なんやかんやしていたらもう8月終わりそうですね。

さて今回はネットワークエンジニアちっくな記事になりそうな予感。

『Ok! Google!Pythonで業務いろいろを自動化するscriptを書いてよ!』と、いつ頼まれても大丈夫なように今回はPythonを使ってスクリプトを書いていきたいと思います。


## とりあえずやってみる

### 1.モジュールのimport

今回使うモジュールはparamikoです。
anacondaを入れていれば標準で使えますがインストールしていない人はpipでinstallしておいてくださいね。

ではまず初めにモジュールのimportしていきます。

【import】
{{< highlight py >}}
import paramiko
{{< / highlight >}}


{{< highlight py >}}

#機器情報
ip = '10.0.0.1'
user_name = 'username'
password = 'Password'
command = 'C:\test\command_list.txt'

client = paramiko.SSHClient()
client.set_missing_host_key_policy(paramiko.AutoAddPolicy())
client.connect(ip, username=user_name, password=password, timeout=3.0)
(stdin, stdout, stderr) = client.exec_command(command)
output = stdout.read().decode()
client.close()
print(output)

{{< / highlight >}}


## 3. single.htmlの編集



## 3. markdownファイルに書き込む設定
これはおなじみかもしれない機能。
目次を表記するかはmarkdownファイルで設定することができます。

```
---
title: "タイトル"
date: yyyy-mm-ssT00:00:00+09:00
archives: "2020/01"
tags: ["hugo"]
toc: true
featured_image: ""
---
```
これを`Front-matter`というんですが`toc: true`を設定してあげることで目次を表記できるというわけですね。

ちなみに『この記事は分量が少ないから目次を表示させたくない』という場合は`toc: false`にしてあげると表示されなくなります。

## 4. デザインを変えてみる

このままでも使えますが味気ない目次になってしまいます。
<img src="https://lh3.googleusercontent.com/Mpm_mo6BQmRwSWE02dmKz3Xer7Y_mWbMIBbLOlh5LP_NuKyk5DAcjt9SL15FFqFgnvhLDs0CSclCfoU69qrFinGpH3q2WSx2x_WnsewU74gKhLjAl-uG60j6js20USxG4gomaTdFBw=w1000" >
<br>
<br>
私自身のイメージとしては枠で囲ったりして目次内の背景色も変更したいなと思っていましたのでそれも行っていきます。
<br><br>

ということで`toc.html`をまたまた修正していきます。

とはいえ当方はhtmlやcssは全然勉強してませんので「もっとこうしたほうがいいよ」とかあったら教えて欲しいです。
<br><br>
では実際に見ていきます。

```
<section class="toc">
  <div style="padding: 20px; border: solid 0.1px rgb(0, 0, 0); background-color: rgb(248, 248, 248);">
  <h4>Contents</h4>
  {{ .TableOfContents }}
</div>
</section>
```

<br>
修正したのは2行目と5行目

キモが2行目になりますので一応ここポイントです。まあ調べれば出てくるんですけどね。
<br><br>

**padding**で枠内の余白を定義しています。その後に続く`20px;`でその余白の度合い調整できます。

**border**で枠の設定を、その後に続く`: solid 0.1px`で枠の太さ、さらに` rgb(0, 0, 0);20px;`で枠の色を決めることができます。

**background-color**では文字通り枠内の背景の色を指定でき`: rgb(248, 248, 248);`という風に設定を行います。

ちなみに`: rgb(248, 248, 248);`はカラーコード(#f8f8f8のような形式で色を指定する方法)でも反映させることができますので有効活用していただければと思います。

## 5. まとめ

今回は目次を作成してみました。やっとこのブログのいろんなところが整ってきました。ただエンジニアとはいっても普段はネットワークインフラメインでやっているので「これはナンセンスじゃね？？？？？」っていうのがあればDM等で教えていただけますと幸いです。

今度はネットワークとかのことも書こうかと思います。


ではまた。(@^^)/~~~