<link rel="stylesheet" href="/css/toc.css">
{{ $first_h2 := index (findRE "<h2 id.*?>" .Content 1) 0 }}
    {{ .Scratch.Set "first_h2" $first_h2}}
    {{ if and (.Params.toc) (.Scratch.Get "first_h2") }}
      {{ $toc_and_h2 := printf "%s\n%s" (partial "toc.html" . ) (.Scratch.Get "first_h2")}}
      {{ replace .Content (.Scratch.Get "first_h2") $toc_and_h2 | safeHTML }}
    {{ else }}
      {{ .Content }}
    {{ end }}