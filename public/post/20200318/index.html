<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Toshikun Dlife  | githubにpushする作業をバッチ化</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.1/css/bulma.min.css" />
    <link rel="stylesheet" href="https://toshikunblog.net/css/blog.css" />
    <link rel="stylesheet" href="https://toshikunblog.net/css/syntax.css" />
    

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-165344098-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-165344098-1');
</script>
<script data-ad-client="ca-pub-4385015283597896" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<link rel="apple-touch-icon" sizes="57x57" href="https://toshikunblog.net/img/favicon/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="https://toshikunblog.net/img/favicon/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="https://toshikunblog.net/img/favicon/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="https://toshikunblog.net/img/favicon/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="https://toshikunblog.net/img/favicon/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="https://toshikunblog.net/img/favicon/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="https://toshikunblog.net/img/favicon/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="https://toshikunblog.net/img/favicon/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="https://toshikunblog.net/img/favicon/apple-icon-180x180.png">
<link rel="icon" type="image/png" sizes="192x192"  href="https://toshikunblog.net/img/favicon/android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://toshikunblog.net/img/favicon/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="https://toshikunblog.net/img/favicon/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="https://toshikunblog.net/img/favicon/favicon-16x16.png">
<link rel="manifest" href="https://toshikunblog.net/img/favicon/faviconmanifest.json">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">

<meta property="og:title" content="githubにpushする作業をバッチ化" />
<meta property="og:description" content="githubにpushする作業をbat化 当ブログはhugoとgithub、net" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://toshikunblog.net/post/20200318/" />
<meta property="og:image" content="https://toshikunblog.net/img/images.jpg"/>
<meta property="article:published_time" content="2020-03-18T11:57:22+09:00" />
<meta property="article:modified_time" content="2020-03-18T11:57:22+09:00" /><meta property="og:site_name" content="Toshikun Dlife" />

<meta property="og:locale" content="ja_JP" />
<meta property="twitter:card" content="summary"/>
<meta property="twitter:image" content="https://toshikunblog.net/img/images.jpg"/>
<meta property="twitter:title" content="Toshikun Dlife"/>
<meta property="twitter:description" content=""/>
</head>
<body>
    <meta name="google-site-verification" content="KeyqW3agkc-qs5Cu98SomK9YFLKxvCpChF9yBPIXEWo" />
    
    <nav class="navbar is-fixed-top" role="navigation" aria-label="main navigation">
        <div class="navbar-brand">
            <a class="navbar-item" href="https://toshikunblog.net/">Home</a>
            <a class="navbar-item" href="https://toshikunblog.net/page/about">About me</a>
        </div>
    </nav>
    

    
    <section class="hero is-info is-medium">
        <div class="hero-body" style="background-image: url(https://toshikunblog.net/img/header-1.jpg);">
            <div class="container has-text-centered">
                <br>
                <h1 class="title is-size-1">
                    
                        githubにpushする作業をバッチ化
                    
                </h1>
                
            </div>
        </div>
    </section>


<div class="container">
    <div class="section">
    

<div class="columns">
    <div class="column is-9">
        <div class="tile is-child box">
            <div class="content">
                
                    
                    
                      <h2 id="githubにpushする作業をbat化">githubにpushする作業をbat化</h2>
<hr>
<p>当ブログはhugoとgithub、netlifyの三種類のサービスを組み合わせて作成しています。</p>
<p>イメージとしてはこんな感じ↓

<figure >
    
        <img src="https://lh3.googleusercontent.com/alpOzHOu_5TECAul8qay4HBjA_q4Ut2JbnGGCBOSxEg3hTWNsHPY939vAAwfa_DRsGur9tPJMDiP83un-9u0qo1HmVnrj7MHZQ7RopImrdgU58QZQ5MGjIBM4Tm7dp5PdieManwJbA=w2400"  />
    
    
</figure>
</p>
<p>イメージ図の②と③は自動的に反映してくれるんですが①が案外面倒なのでbat化してみました。</p>
<p>といってもみようみまねでやっているのでもっとこうしたほうがいいよ‼とかあれば教えて頂きたいです‼</p>
<h3 id="やることは至って簡単">やることは至って簡単</h3>
<hr>
<p>条件としてはリモートリポリトリにpushする際にコメントを</p>
<blockquote>
<p>rootupdate_2020/0301/09:00</p>
</blockquote>
<p>みたいな感じでpushする時間を記載できるようにするのがゴールです。</p>
<p>以下、コードになります。</p>
<pre><code>#ローカルリポジトリのディレクトリに移動
cd C:\hugo\myphotoblog

#date変数は返す値がyyyy/mm/dd形式で出力します。
#time変数は返す値がHH:MM:SS.00形式で出力します。

# ~0,4%は2000/01/01の0文字目から4文字抜き出す
set yyyy=%date:~0,4%

# ~0,4%は2000/01/01の5文字目から2文字抜き出す
set mm=%date:~5,2%

# ~0,4%は2000/01/01の8文字目から2文字抜き出す
set dd=%date:~8,2%

#0:00〜9:59のとき00:00〜09:59と表示させたいので変数time2を定義する
set time2=%time: =0%

#あとは↑のdateと同じように定義していく
set hh=%time2:~0,2%
set mn=%time2:~3,2%
set ss=%time2:~6,2%

# 新しくDATEを定義する
set DATE=%yyyy%/%mm%%dd%/%hh%:%mn%

# あとはpushするだけ
git add -A
git commit -m &quot;rootupdate_%DATE%&quot;　　#これでいけるはず
git push origin master

</code></pre><p>こいつらをメモ帳かなんかに貼り付けて拡張子をbatに変更すればよいですね。</p>
<p>今のところちゃんと使えてるのでこれでいっかな。</p>

                    
                <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "https-toshikunblog-net" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
            </div>
        </div>
    </div>
    <div class="column is-3">
        <div class="card">
    <div class="card-content">
        <h1 class="title is-5">Tags</h1>
        <div class="tags">
        
            <span class="tag"><a href="https://toshikunblog.net/tags/bat">bat</a></span>
        
            <span class="tag"><a href="https://toshikunblog.net/tags/camera">camera</a></span>
        
            <span class="tag"><a href="https://toshikunblog.net/tags/disney">disney</a></span>
        
            <span class="tag"><a href="https://toshikunblog.net/tags/github">github</a></span>
        
            <span class="tag"><a href="https://toshikunblog.net/tags/hugo">hugo</a></span>
        
            <span class="tag"><a href="https://toshikunblog.net/tags/lightroom">lightroom</a></span>
        
            <span class="tag"><a href="https://toshikunblog.net/tags/linux">linux</a></span>
        
            <span class="tag"><a href="https://toshikunblog.net/tags/mvno">mvno</a></span>
        
            <span class="tag"><a href="https://toshikunblog.net/tags/python">python</a></span>
        
            <span class="tag"><a href="https://toshikunblog.net/tags/rakuten%E3%83%A2%E3%83%90%E3%82%A4%E3%83%AB">rakutenモバイル</a></span>
        
            <span class="tag"><a href="https://toshikunblog.net/tags/raspberrypi">raspberrypi</a></span>
        
            <span class="tag"><a href="https://toshikunblog.net/tags/uq%E3%83%A2%E3%83%90%E3%82%A4%E3%83%AB">uqモバイル</a></span>
        
            <span class="tag"><a href="https://toshikunblog.net/tags/vpn">vpn</a></span>
        
            <span class="tag"><a href="https://toshikunblog.net/tags/youtube">youtube</a></span>
        
            <span class="tag"><a href="https://toshikunblog.net/tags/%E3%82%AB%E3%83%A1%E3%83%A9%E5%82%99%E5%BF%98%E9%8C%B2">カメラ備忘録</a></span>
        
            <span class="tag"><a href="https://toshikunblog.net/tags/%E3%82%B9%E3%83%94%E3%83%BC%E3%83%89%E3%83%86%E3%82%B9%E3%83%88">スピードテスト</a></span>
        
            <span class="tag"><a href="https://toshikunblog.net/tags/%E3%83%87%E3%82%A3%E3%82%BA%E3%83%8B%E3%83%BC%E3%83%9B%E3%83%86%E3%83%AB">ディズニーホテル</a></span>
        
            <span class="tag"><a href="https://toshikunblog.net/tags/%E3%83%8D%E3%83%83%E3%83%88%E3%83%AF%E3%83%BC%E3%82%AF">ネットワーク</a></span>
        
            <span class="tag"><a href="https://toshikunblog.net/tags/%E3%83%96%E3%83%AD%E3%82%B0">ブログ</a></span>
        
            <span class="tag"><a href="https://toshikunblog.net/tags/%E6%8A%80%E8%A1%93%E3%83%8D%E3%82%BF">技術ネタ</a></span>
        
            <span class="tag"><a href="https://toshikunblog.net/tags/%E8%88%9E%E6%B5%9C%E6%97%A5%E8%A8%98">舞浜日記</a></span>
        
            <span class="tag"><a href="https://toshikunblog.net/tags/%E9%9B%91%E8%A8%98">雑記</a></span>
        
        </div>          
    </div>
</div><br>
        <div class="card">
    <div class="card-content">
        <h1 class="title is-5">Recent posts</h1>
        
            <h1><a href="https://toshikunblog.net/post/20200905/">ホテルミラコスタ滞在記【2020/08】Part①</a></h1>
            <time class="has-text-grey-light is-size-7">5 September 2020</time>
        
            <h1><a href="https://toshikunblog.net/post/20200728/">Pythonでsshをしてみる</a></h1>
            <time class="has-text-grey-light is-size-7">28 July 2020</time>
        
            <h1><a href="https://toshikunblog.net/post/20200724/">hugoでよく使うお作法</a></h1>
            <time class="has-text-grey-light is-size-7">24 July 2020</time>
        
            <h1><a href="https://toshikunblog.net/post/20200717/">ラズパイでVPN(WireGuard)を構築した</a></h1>
            <time class="has-text-grey-light is-size-7">17 July 2020</time>
        
            <h1><a href="https://toshikunblog.net/post/20200610/">hugoで目次(toc)を導入する</a></h1>
            <time class="has-text-grey-light is-size-7">10 June 2020</time>
        
    </div>
</div>
    <br>
                


    
<br>
        <div class="card">
    <div class="card-content">
        <h1 class="title is-5">Archives</h1>
        
            <a href="https://toshikunblog.net/archives/2020/09">2020/09</a> (1)<br>
        
            <a href="https://toshikunblog.net/archives/2020/07">2020/07</a> (3)<br>
        
            <a href="https://toshikunblog.net/archives/2020/06">2020/06</a> (1)<br>
        
            <a href="https://toshikunblog.net/archives/2020/05">2020/05</a> (4)<br>
        
            <a href="https://toshikunblog.net/archives/2020/04">2020/04</a> (1)<br>
        
            <a href="https://toshikunblog.net/archives/2020/03">2020/03</a> (4)<br>
        
    </div>
</div>

    </div>
</div>


    </div>
</div>

<footer class="footer has-background-grey-darker has-text-white">
    <div class="content has-text-centered">
        <p>
            <span class="icon is-large"><a href="https://twitter.com/toshikun_photo" class="mysocial" rel="me"><i class="fab fa-twitter fa-3x"></i></a></span>&nbsp;&nbsp;
            <span class="icon is-large"><a href="https://www.youtube.com/channel/UChJwQKK0lApGygrgHDGAsfA?view_as=subscriber" class="mysocial" rel="me"><i class="fab fa-youtube fa-3x"></i></a></span>&nbsp;&nbsp;
            <span class="icon is-large"><a href="https://www.instagram.com/toshikun_photo" class="mysocial" rel="me"><i class="fab fa-instagram fa-3x"></i></a></span>&nbsp;&nbsp;
            <span class="icon is-large"><a href="https://github.com/toshikunphoto" class="mysocial" rel="me"><i class="fab fa-github fa-3x"></i></a></span>&nbsp;&nbsp;
            <br><br>
            Copyright &copy; Toshikun Dlife 2020 - Theme by <a href="https://jeffprod.com" class="mysocial">JeffProd.com</a>
            <br>
            <a class="mysocial" href="https://toshikunblog.net/page/contact">問い合わせ</a> - <a class="mysocial" href="https://toshikunblog.net/page/privacypolicy">プライバシーポリシー</a>
        </p>
    </div>
</footer>
<script defer src="https://use.fontawesome.com/releases/v5.1.0/js/all.js"></script>
</body>
</html>
